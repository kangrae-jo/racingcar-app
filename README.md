# ğŸ Racingcar Web (Kotlin & Docker)

> **ìš°íƒœì½” í”„ë¦¬ì½”ìŠ¤ ì½˜ì†” ë ˆì´ì‹±ì¹´ ë¯¸ì…˜ì„ ì›¹ ì„œë¹„ìŠ¤ë¡œ í™•ì¥í•˜ë©°,  
> ê°ì²´ì§€í–¥ ì„¤ê³„ Â· Kotlin ì „í™˜ Â· Docker ê¸°ë°˜ ë°°í¬ Â· GitHub Actions CI/CD ë¥¼ í•œ ë²ˆì— ê²½í—˜í•œ í•™ìŠµìš© í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.**

<br>

## ğŸ”— Demo

- **ë°°í¬ ë§í¬:** [[Racingcar Game]](http://34.64.245.31)
  (GCP VM + Docker ì»¨í…Œì´ë„ˆë¡œ ì„œë¹„ìŠ¤ ì¤‘)

---

## 1. í”„ë¡œì íŠ¸ ì†Œê°œ â€“ â€œì½˜ì†” ë ˆì´ì‹±ì¹´ë¥¼ ì›¹ìœ¼ë¡œ ì˜®ê¸°ê¸°â€

ìš°í…Œì½” í”„ë¦¬ì½”ìŠ¤ ë ˆì´ì‹±ì¹´ ë¯¸ì…˜ì„ ë‹¨ìˆœíˆ ë‹¤ì‹œ êµ¬í˜„í•˜ëŠ” ëŒ€ì‹ ,  
**â€œì½˜ì†” ê¸°ë°˜ OOP ì„¤ê³„ë¥¼ ê·¸ëŒ€ë¡œ ê°€ì ¸ì™€ ì›¹ ì„œë¹„ìŠ¤ë¡œ í™•ì¥í•˜ë©´ ì–´ë–¤ ëª¨ìŠµì¼ê¹Œ?â€** ë¼ëŠ” ì§ˆë¬¸ì—ì„œ ì¶œë°œí•œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

ì²˜ìŒì—” ë‘ ê°€ì§€ ê³ ë¯¼ì´ ìˆì—ˆìŠµë‹ˆë‹¤.

1. **ê°ì²´ì§€í–¥ê³¼ ì‹¤ì œ ì„œë¹„ìŠ¤ì˜ ê´´ë¦¬**  
   - í”„ë¦¬ì½”ìŠ¤ì—ì„œëŠ” SRP, ì˜ì¡´ì„± ì—­ì „ ë“± ê°ì²´ì§€í–¥ ì„¤ê³„ë¥¼ ì§€í‚¤ë ¤ ì• ì¼ì§€ë§Œ  
   - ì‹¤ì œ ì›¹/ì„œë¹„ìŠ¤ ê°œë°œì—ì„œëŠ” ê¸°ëŠ¥ êµ¬í˜„ì— ì«“ê²¨ ì„¤ê³„ë¥¼ ìŠì–´ë²„ë¦¬ê³¤ í–ˆìŠµë‹ˆë‹¤.  
   - ê·¸ë˜ì„œ *â€œì½˜ì†”ì—ì„œ ì˜ ë§Œë“  ë„ë©”ì¸ì´, ì›¹ìœ¼ë¡œ ì˜®ê²¨ê°ˆ ë•Œë„ ê·¸ëŒ€ë¡œ í˜ì„ ì“¸ ìˆ˜ ìˆì„ê¹Œ?â€* ë¥¼ ì§ì ‘ ê²€ì¦í•´ ë³´ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.

2. **2ì£¼ë¼ëŠ” ì§§ì€ ì˜¤í”ˆ ë¯¸ì…˜ ê¸°ê°„**  
   - í™”ë ¤í•œ UI/ê¸°íšë³´ë‹¤ëŠ”,  
   - **â€œë‚˜ì¤‘ì—ë„ ì¨ë¨¹ì„ ìˆ˜ ìˆëŠ” ê¸°ìˆ ì  ì„±ì¥â€** ì— ì§‘ì¤‘í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.

ê²°ë¡ ì ìœ¼ë¡œ ì´ í”„ë¡œì íŠ¸ëŠ” **â€œë ˆì´ì‹±ì¹´ ì›¹ ì„œë¹„ìŠ¤â€** ë¼ê¸°ë³´ë‹¤,

> **ê°ì²´ì§€í–¥ ì„¤ê³„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ  
> Java â†’ Kotlin,  
> ì§ì ‘ ë°°í¬ â†’ Docker & CI/CDë¡œ í™•ì¥í•´ ë³¸ í•™ìŠµ ê¸°ë¡**

ì— ê°€ê¹ìŠµë‹ˆë‹¤.

---

## 2. ëª©í‘œ â€“ ê¸°ëŠ¥ë³´ë‹¤ â€œê¸°ìˆ  ê²½í—˜â€ì— ì´ˆì  ë‘ê¸°

ì´ë¯¸ ì½˜ì†” ë ˆì´ì‹±ì¹´ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ëë‚œ ìƒíƒœì˜€ìŠµë‹ˆë‹¤.  
ê·¸ê±¸ ê·¸ëŒ€ë¡œ ì›¹ìœ¼ë¡œ ê°ì‹¸ëŠ” ê²ƒë§Œìœ¼ë¡œëŠ” ì œ ì„±ì¥ ì¦ê±°ê°€ ë¶€ì¡±í•˜ë‹¤ê³  ëŠê¼ˆìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ ì´ë²ˆ í”„ë¡œì íŠ¸ì˜ ëª©í‘œëŠ” **ë”± ì„¸ ê°€ì§€**ë¡œ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

1. **Java â†’ Kotlin ì „í™˜ìœ¼ë¡œ ì–¸ì–´ íŠ¹ì„± ì²´í—˜í•˜ê¸°**
2. **Dockerë¡œ â€œì–´ë””ì„œë“  ë°”ë¡œ ë„ìš¸ ìˆ˜ ìˆëŠ”â€ ë°°í¬ ë‹¨ìœ„ ë§Œë“¤ê¸°**
3. **GitHub Actionsë¡œ ì½”ë“œ í‘¸ì‹œ â†’ ë°°í¬ê¹Œì§€ ìë™í™”í•˜ëŠ” íŒŒì´í”„ë¼ì¸ êµ¬ì„±í•˜ê¸°**

ì¦‰, â€œ2ì£¼ ë™ì•ˆ ì œì¶œìš© ì„œë¹„ìŠ¤ í•˜ë‚˜ ë” ë§Œë“¤ê¸°â€ê°€ ì•„ë‹ˆë¼,  
**ì•ìœ¼ë¡œ ê°œë°œ ì¸ìƒ ë‚´ë‚´ ì“¸ ìˆ˜ ìˆëŠ” ê¸°ìˆ ë“¤ì„ ë¯¸ë¦¬ ë§›ë³´ëŠ” ê²ƒì— ì§‘ì¤‘**í–ˆìŠµë‹ˆë‹¤.

---

## 3. ê¸°ìˆ  ìŠ¤íƒ

### ğŸ§© Backend

- Kotlin
- Spring Boot 3.5.7
- Gradle (Kotlin DSL)
- (ë„ë©”ì¸: ë ˆì´ì‹±ì¹´ ê²Œì„ ë¡œì§)

### ğŸ³ DevOps / Infra

- Docker
- Docker Hub
- GitHub Actions
- GCP Compute Engine (Ubuntu)

---

## 4. Java â†’ Kotlin ì „í™˜ì—ì„œ ë°°ìš´ ì 

### 4-1. ì™œ Kotlinì´ì—ˆë‚˜?

ì†”ì§íˆ ì‹œì‘ì€ ë‹¨ìˆœí–ˆìŠµë‹ˆë‹¤.

> â€œëª‡ ë…„ì§¸ í•«í•œ Kotlin, ë‚˜ë„ í•œ ë²ˆ ì¨ë³´ê³  ì‹¶ë‹¤.â€

í•˜ì§€ë§Œ ë§‰ìƒ ì½”ë“œë¥¼ ì˜®ê¸°ë‹¤ ë³´ë‹ˆ **ê·¸ëƒ¥ â€˜í¸í•œ Javaâ€™ê°€ ì•„ë‹ˆì—ˆê³ **,  
ì–¸ì–´ê°€ ì„¤ê³„ë¥¼ ë³´ëŠ” ê´€ì  ìì²´ë¥¼ ë°”ê¿” ì¤€ë‹¤ëŠ” ê±¸ ëŠê¼ˆìŠµë‹ˆë‹¤.

### 4-2. ì¸ìƒ ê¹Šì—ˆë˜ í¬ì¸íŠ¸ë“¤

- **Data Class & Property ë¬¸ë²•**  
  - ìƒì„±ì + í•„ë“œ ì„ ì–¸ + getter/setterê°€ í•œ ì¤„ë¡œ ì •ë¦¬ë˜ë©´ì„œ  
  - â€œì´ ê°ì²´ê°€ ë¬´ì—‡ì„ í‘œí˜„í•˜ëŠ”ì§€â€ì—ë§Œ ì§‘ì¤‘í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

- **Null Safety**  
  - Javaì—ì„œëŠ” â€œë‚´ê°€ ì‹¤ìˆ˜í•˜ì§€ ì•Šê¸°ë¥¼â€ ë°”ë¼ë©° ë°©ì–´ ë¡œì§ì„ ê¹”ì•„ì•¼ í–ˆë‹¤ë©´  
  - Kotlinì—ì„œëŠ” `?` / `!!` / `?:` ë“±ìœ¼ë¡œ  
    **â€œnull ê°€ëŠ¥ì„± ìì²´ë¥¼ íƒ€ì… ì‹œìŠ¤í…œ ì•ˆìœ¼ë¡œ ëŒê³  ì˜¨ ëŠë‚Œ**ì´ì—ˆìŠµë‹ˆë‹¤.
  - ì½”ë“œ ì‘ì„± ì‹œì ë¶€í„° *â€œì´ ê°’ì€ ì •ë§ ì—†ì„ ìˆ˜ ìˆë‚˜?â€* ë¥¼ ê³„ì† ìƒê°í•˜ê²Œ ë˜ì–´  
    ê²°ê³¼ì ìœ¼ë¡œ ë” ì•ˆì „í•œ ë„ë©”ì¸ ì„¤ê³„ë¥¼ í•˜ê²Œ ëìŠµë‹ˆë‹¤.

ì´ ê³¼ì •ì—ì„œ **Javaì˜ ì¥ë‹¨ì ë„ ì˜¤íˆë ¤ ë” ë˜ë ·í•˜ê²Œ ë³´ì˜€ê³ **,  
â€œì–¸ì–´ë¥¼ ë°”ê¿”ë³´ëŠ” ê²ƒì´ ê³§ ë‚´ ì‚¬ê³ ë°©ì‹ì„ ì ê²€í•˜ëŠ” ì¼â€ì´ë¼ëŠ” ê±¸ ì²´ê°í–ˆìŠµë‹ˆë‹¤.

---

## 5. ê°ì²´ì§€í–¥ ì„¤ê³„ì˜ ì›¹ í™•ì¥ â€“ ì½˜ì†”ì—ì„œ ì›¹ìœ¼ë¡œ

ì´ë²ˆ ë¯¸ì…˜ì˜ ìˆ¨ì€ í•µì‹¬ì€ **â€œê°ì²´ì§€í–¥ ì„¤ê³„ê°€ ì›¹ìœ¼ë¡œ ì˜®ê²¨ê°ˆ ë•Œë„ ê·¸ëŒ€ë¡œ ìœ íš¨í•œê°€?â€** ì˜€ìŠµë‹ˆë‹¤.

- ê¸°ì¡´ ì½˜ì†” ë²„ì „ì—ì„œëŠ”  
  - `InputView`, `OutputView` ê°€ ì‚¬ìš©ìì˜ ì…ì¶œë ¥ì„ ë‹´ë‹¹í•˜ê³   
  - ë„ë©”ì¸ ê°ì²´ë“¤(RacingCar, Game ë“±)ì´ ìˆœìˆ˜í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë£°ì„ ë‹´ê³  ìˆì—ˆìŠµë‹ˆë‹¤.
- ì›¹ ë²„ì „ìœ¼ë¡œ ì˜®ê¸°ë©´ì„œëŠ”  
  - `InputView` / `OutputView` ë¥¼ **ì›¹ ì»¨íŠ¸ë¡¤ëŸ¬ + í…œí”Œë¦¿(View)** ìœ¼ë¡œ ëŒ€ì²´í•˜ê³   
  - **ë„ë©”ì¸ ë¡œì§ì€ ì†ëŒ€ì§€ ì•Šì€ ì±„ ê·¸ëŒ€ë¡œ ì¬ì‚¬ìš©**í•˜ëŠ” ë°©ì‹ì„ íƒí–ˆìŠµë‹ˆë‹¤.

ê·¸ ê²°ê³¼:

> ì½˜ì†”ì—ì„œ ì‚¬ìš©í•˜ë˜ ë„ë©”ì¸ ëª¨ë¸ì´  
> ì›¹ìœ¼ë¡œ ì˜¬ë¼ì™€ë„ ê±°ì˜ ìˆ˜ì • ì—†ì´ ë™ì‘í•˜ëŠ” ê²½í—˜ì„ í–ˆìŠµë‹ˆë‹¤.

**â€œì˜ ì§œì¸ ê°ì²´ì§€í–¥ ì½”ë“œëŠ” Viewì— ì¢…ì†ë˜ì§€ ì•ŠëŠ”ë‹¤â€** ëŠ” ë§ì„  
ì‹¤ì œ ì½”ë“œ ë ˆë²¨ì—ì„œ í™•ì¸í•´ ë³¸ ì§œë¦¿í•œ ìˆœê°„ì´ì—ˆìŠµë‹ˆë‹¤.

---

## 6. Dockerë¡œ ë³¸ â€œì„œë²„ ì´ì‹ì„±â€ê³¼ ë°°í¬ ê²½í—˜

### 6-1. ì´ë¯¸ ë°°í¬ ê²½í—˜ì€ ìˆì—ˆì§€ë§Œâ€¦

ì´ì „ì—ë„:

- í´ë¼ìš°ë“œ VMì— SSH ì ‘ì†
- JDK ì„¤ì¹˜, í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- `git pull` + `./gradlew build` + `java -jar ...`
- ê°„ë‹¨í•œ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ `./deploy` ë¡œ ë°°í¬ ìë™í™”

ê¹Œì§€ëŠ” ê²½í—˜í•´ ë³¸ ìƒíƒœì˜€ìŠµë‹ˆë‹¤.

ê·¸ëŸ¼ì—ë„ **Dockerë¥¼ ì„ íƒí•œ ì´ìœ **ëŠ”  
**â€œì„œë²„ë¥¼ ì˜®ê¸¸ ë•Œë§ˆë‹¤ ë‹¤ì‹œ í™˜ê²½ ì„¸íŒ…ì„ í•˜ê³  ì‹¶ì§€ ì•Šì•„ì„œâ€**ì˜€ìŠµë‹ˆë‹¤.

AWS í”„ë¦¬í‹°ì–´ì²˜ëŸ¼:

- ê¸°ê°„ì´ ëë‚˜ê±°ë‚˜
- ìš”ê¸ˆ/ì •ì±…ì´ ë°”ë€Œë©´

**ì–¸ì  ê°€ ë°˜ë“œì‹œ ì„œë²„ë¥¼ ê°ˆì•„íƒˆ ìˆœê°„**ì´ ì˜¤ëŠ”ë°,  
ê·¸ë•Œë§ˆë‹¤ **OS, JDK, ê°ì¢… ì˜ì¡´ì„±, í™˜ê²½ ë³€ìˆ˜ ì„¤ì •ì„ ë‹¤ì‹œ í•˜ëŠ” ê²Œ ë„ˆë¬´ ë¹„íš¨ìœ¨ì **ì´ì—ˆìŠµë‹ˆë‹¤.

### 6-2. Docker ë„ì…ìœ¼ë¡œ ë°”ë€ ì 

ì´ì œëŠ”:

- ë¡œì»¬/CIì—ì„œ **Docker ì´ë¯¸ì§€**ë¥¼ í•œ ë²ˆ ë¹Œë“œí•´ë‘ë©´,
- ìƒˆ VMì—ì„œëŠ” **Dockerë§Œ ì„¤ì¹˜ë˜ì–´ ìˆìœ¼ë©´ ë°”ë¡œ ì„œë¹„ìŠ¤ ì‹¤í–‰**ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

> â€œVMì„ ìƒˆë¡œ ë°›ìœ¼ë©´,  
>  `docker pull` + `docker run` ìœ¼ë¡œ ëë‚˜ëŠ” ì„¸ê³„â€

ë¥¼ ë¯¸ë¦¬ ê²½í—˜í•´ ë‘” ë•ë¶„ì—,  
ì•ìœ¼ë¡œ ì„œë²„ ì´ì „/í™•ì¥ ì‘ì—…ì— ëŒ€í•œ ë¶€ë‹´ì´ ë§ì´ ì¤„ì—ˆìŠµë‹ˆë‹¤.

---

## 7. GitHub Actionsë¡œ êµ¬ì¶•í•œ CI/CD íŒŒì´í”„ë¼ì¸

ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” **ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•œ ë°°í¬ íŒŒì´í”„ë¼ì¸**ì„ ì§ì ‘ êµ¬ì„±í•´ë³´ì•˜ìŠµë‹ˆë‹¤.

### 7-1. CI ë‹¨ê³„

1. `main` / `release` ë¸Œëœì¹˜ì— ì½”ë“œ push
2. GitHub Actionsê°€ ìë™ìœ¼ë¡œ ì‹¤í–‰
3. `./gradlew clean build -x test` ë¡œ JAR ë¹Œë“œ
4. `docker build` ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ë¯¸ì§€ ìƒì„±
5. `docker push` ë¡œ Docker Hubì— ì´ë¯¸ì§€ ì—…ë¡œë“œ

### 7-2. CD ë‹¨ê³„

1. `release` ë¸Œëœì¹˜ ê¸°ì¤€ ë°°í¬ íŠ¸ë¦¬ê±°
2. GitHub Actionsì—ì„œ **appleboy/ssh-action** ì‚¬ìš©
3. GCP VMìœ¼ë¡œ SSH ì ‘ì† í›„,
   ```bash
   docker pull <IMAGE:TAG>
   docker stop racingcar-app || true
   docker rm   racingcar-app || true
   docker run -d -p 80:8080 --name racingcar-app <IMAGE:TAG>
